<!DOCTYPE HTML>
<html tranlate="no">
<head>
	<meta charset="UTF-8">
	<title>Palia - Villager Schedule</title>
	<link rel="stylesheet" href="style.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;700&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
	<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
	
</head>
<body>
	<div class="bg">.</div>
	<div class="container">
		<div class="content">
			<div><span class="title">WPROWADŹ GODZINĘ Z GRY</span></div>
			<input type="number" class="godzina zegarek" min="1" max="12" value="12">
			<span class="dwukropek">:</span>
			<input type="number" class="minuta zegarek" min="00" max="59" value="00">
			<span class="zegarek ampm" onclick="ampm()" style="font-weight: bold;">AM</span>
			<div><button class="submit">ZATWIERDŹ</button></div>
		</div>
	</div>
	
	<script>
		function ampm(){
			if ($(".ampm").html() == "AM") $(".ampm").html("PM"); else $(".ampm").html("AM");
		}
		
		
		$(".minuta").on("change", function(){
			console.log($(".minuta").val());
			if ($(".minuta").val() <= 9) $(".minuta").val("0" + $(".minuta").val());
		});
		
		$(".submit").on("click", function(){
			var godzina = $(".godzina").val();
			var minuta = $(".minuta").val();
			var czas = $(".ampm").html();
			$(".container").load("villagers.html");
			setInterval(function(){
				if(typeof(godzina) != "undefined") $(".godz").html(parseInt(godzina));
				if(typeof(minuta) != "undefined") $(".min").html(parseInt(minuta));
				if(typeof(czas) != "undefined") $(".czas").html(czas);;
				
				parseInt(minuta) += 1
				
				if (parseInt(minuta) == 60){
					parseInt(minuta) = 00;
					parseInt(godzina) += 1;
				}
				if (parseInt(godzina) == 13){
					parseInt(godzina) = 1;
					if (czas = "AM") czas = "PM"
					else czas = "AM";
				}
				console.log(godzina + ":" + minuta + " " + czas)
			},1000)
		});
		
	</script>
</body>

</html>